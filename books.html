<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Recommended Books â€” BPUT Notes</title>
  <meta name="description" content="University-recommended textbooks for all BPUT branches and semesters. Find the right book for every subject." />
  <link rel="icon" href="favicon.svg" type="image/svg+xml" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;500;600;700;800&family=DM+Sans:wght@300;400;500&display=swap" media="print" onload="this.media='all'">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" />
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/components.css" />

  <style>
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       BOOKS PAGE STYLES
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

    /* â”€â”€ STEP SELECTOR â”€â”€ */
    .books-selector-wrap {
      background: var(--white);
      border: 1px solid var(--gray-200);
      border-radius: var(--radius-xl);
      overflow: hidden;
      box-shadow: var(--shadow-lg);
      margin-bottom: 36px;
    }

    .selector-header {
      background: linear-gradient(135deg, var(--blue-900), var(--blue-700));
      padding: 20px 28px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 12px;
    }
    .selector-header-left {
      display: flex;
      align-items: center;
      gap: 14px;
    }
    .selector-step-badges {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .step-badge {
      display: flex;
      align-items: center;
      gap: 6px;
      font-family: var(--font-display);
      font-size: 0.72rem;
      font-weight: 700;
      color: rgba(255,255,255,0.5);
      letter-spacing: 0.04em;
    }
    .step-badge.done { color: rgba(255,255,255,0.9); }
    .step-badge.active { color: #f59e0b; }
    .step-badge-num {
      width: 20px; height: 20px;
      border-radius: 50%;
      background: rgba(255,255,255,0.1);
      display: flex; align-items: center; justify-content: center;
      font-size: 0.65rem; font-weight: 800;
    }
    .step-badge.done .step-badge-num { background: rgba(34,197,94,0.3); color: #4ade80; }
    .step-badge.active .step-badge-num { background: rgba(245,158,11,0.3); color: #f59e0b; }
    .step-sep { color: rgba(255,255,255,0.2); font-size: 0.7rem; }

    /* Search bar in header */
    .books-global-search {
      position: relative;
      min-width: 260px;
    }
    .books-global-search input {
      width: 100%;
      padding: 10px 16px 10px 38px;
      border-radius: 100px;
      border: 1.5px solid rgba(255,255,255,0.2);
      background: rgba(255,255,255,0.1);
      color: var(--white);
      font-family: var(--font-display);
      font-size: 0.82rem;
      outline: none;
      transition: all 0.25s ease;
    }
    .books-global-search input::placeholder { color: rgba(255,255,255,0.4); }
    .books-global-search input:focus {
      background: rgba(255,255,255,0.18);
      border-color: rgba(255,255,255,0.4);
      box-shadow: 0 0 0 3px rgba(255,255,255,0.08);
    }
    .books-global-search .search-icon {
      position: absolute; left: 13px; top: 50%;
      transform: translateY(-50%);
      font-size: 0.85rem;
      pointer-events: none;
    }
    /* Clear button */
    .search-clear {
      position: absolute; right: 12px; top: 50%;
      transform: translateY(-50%);
      background: none; border: none;
      color: rgba(255,255,255,0.5);
      cursor: pointer; font-size: 0.8rem;
      display: none;
      line-height: 1;
      padding: 2px;
    }
    .search-clear.visible { display: block; }

    /* â”€â”€ 3-COLUMN SELECTORS â”€â”€ */
    .selector-body {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      border-top: none;
    }

    .selector-col {
      padding: 20px;
      border-right: 1px solid var(--gray-100);
    }
    .selector-col:last-child { border-right: none; }

    .selector-col-label {
      font-family: var(--font-display);
      font-size: 0.65rem;
      font-weight: 700;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--gray-400);
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    /* Branch pills */
    .branch-pills {
      display: flex;
      flex-direction: column;
      gap: 5px;
    }
    .branch-pill {
      display: flex;
      align-items: center;
      gap: 9px;
      padding: 10px 12px;
      border-radius: var(--radius-md);
      cursor: pointer;
      transition: all 0.2s ease;
      border: 1.5px solid transparent;
    }
    .branch-pill:hover { background: var(--blue-50); border-color: var(--blue-100); }
    .branch-pill.active {
      background: var(--blue-500);
      border-color: var(--blue-500);
    }
    .branch-pill .bp-emoji { font-size: 1rem; flex-shrink: 0; width: 22px; text-align: center; }
    .branch-pill .bp-text {
      font-family: var(--font-display);
      font-size: 0.82rem;
      font-weight: 600;
      color: var(--gray-700);
      transition: color 0.2s;
    }
    .branch-pill.active .bp-text { color: var(--white); }
    .branch-pill .bp-short {
      margin-left: auto;
      font-family: var(--font-display);
      font-size: 0.65rem;
      font-weight: 700;
      color: var(--gray-400);
      background: var(--gray-100);
      padding: 2px 7px;
      border-radius: 100px;
    }
    .branch-pill.active .bp-short { background: rgba(255,255,255,0.2); color: rgba(255,255,255,0.8); }

    /* Semester grid */
    .sem-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 6px;
    }
    .sem-btn {
      padding: 10px 4px;
      border-radius: var(--radius-md);
      border: 1.5px solid var(--gray-200);
      background: var(--white);
      font-family: var(--font-display);
      font-size: 0.8rem;
      font-weight: 700;
      color: var(--gray-500);
      cursor: pointer;
      transition: all 0.2s ease;
      text-align: center;
    }
    .sem-btn:hover { border-color: var(--blue-400); color: var(--blue-600); background: var(--blue-50); }
    .sem-btn.active {
      background: var(--blue-500);
      border-color: var(--blue-500);
      color: var(--white);
      box-shadow: 0 4px 12px rgba(37,99,235,0.3);
    }

    /* Subject list */
    .subject-list {
      display: flex;
      flex-direction: column;
      gap: 5px;
      max-height: 320px;
      overflow-y: auto;
      scrollbar-width: thin;
      scrollbar-color: var(--gray-200) transparent;
    }
    .subject-list::-webkit-scrollbar { width: 4px; }
    .subject-list::-webkit-scrollbar-track { background: transparent; }
    .subject-list::-webkit-scrollbar-thumb { background: var(--gray-200); border-radius: 2px; }

    .subject-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: var(--radius-md);
      border: 1.5px solid transparent;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .subject-item:hover { background: var(--blue-50); border-color: var(--blue-100); }
    .subject-item.active {
      background: var(--blue-500);
      border-color: var(--blue-500);
    }
    .subject-item .sub-code {
      font-family: var(--font-display);
      font-size: 0.65rem;
      font-weight: 800;
      letter-spacing: 0.06em;
      background: var(--gray-100);
      color: var(--gray-500);
      padding: 3px 7px;
      border-radius: 6px;
      flex-shrink: 0;
      transition: all 0.2s;
    }
    .subject-item.active .sub-code {
      background: rgba(255,255,255,0.2);
      color: rgba(255,255,255,0.9);
    }
    .subject-item .sub-name {
      font-family: var(--font-display);
      font-size: 0.8rem;
      font-weight: 600;
      color: var(--gray-700);
      line-height: 1.3;
      transition: color 0.2s;
    }
    .subject-item.active .sub-name { color: var(--white); }

    /* Placeholder states */
    .selector-placeholder {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 28px 16px;
      color: var(--gray-300);
      text-align: center;
      gap: 8px;
    }
    .selector-placeholder .ph-icon { font-size: 2rem; opacity: 0.5; }
    .selector-placeholder p { font-size: 0.78rem; line-height: 1.5; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       BOOKS RESULTS SECTION
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .books-result-section {
      display: none;
    }
    .books-result-section.visible { display: block; }

    .books-result-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 20px;
      flex-wrap: wrap;
      gap: 12px;
    }
    .books-result-title {
      font-family: var(--font-display);
      font-size: 1rem;
      font-weight: 800;
      color: var(--gray-900);
    }
    .books-result-breadcrumb {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 0.75rem;
      color: var(--gray-400);
      font-family: var(--font-display);
      font-weight: 500;
    }
    .books-result-breadcrumb span { color: var(--blue-500); font-weight: 700; }

    /* Book cards grid */
    .books-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
    }

    .book-card {
      background: var(--white);
      border: 1px solid var(--gray-200);
      border-radius: var(--radius-lg);
      overflow: hidden;
      transition: all 0.25s ease;
      display: flex;
      flex-direction: column;
      position: relative;
    }
    .book-card:hover {
      border-color: var(--blue-300);
      box-shadow: 0 12px 36px rgba(37,99,235,0.12);
      transform: translateY(-3px);
    }

    /* Book spine accent */
    .book-card-spine {
      height: 4px;
      background: linear-gradient(90deg, var(--blue-500), var(--blue-300));
    }
    .book-card:nth-child(2) .book-card-spine {
      background: linear-gradient(90deg, #f59e0b, #fcd34d);
    }
    .book-card:nth-child(3) .book-card-spine {
      background: linear-gradient(90deg, #22c55e, #4ade80);
    }

    .book-card-body {
      padding: 20px;
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .book-number {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-family: var(--font-display);
      font-size: 0.68rem;
      font-weight: 700;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--gray-400);
    }
    .book-number-dot {
      width: 6px; height: 6px;
      border-radius: 50%;
      background: var(--blue-400);
    }
    .book-card:nth-child(2) .book-number-dot { background: #f59e0b; }
    .book-card:nth-child(3) .book-number-dot { background: #22c55e; }

    .book-title {
      font-family: var(--font-display);
      font-size: 0.95rem;
      font-weight: 800;
      color: var(--gray-900);
      line-height: 1.4;
    }

    .book-author {
      font-size: 0.8rem;
      color: var(--gray-500);
      font-style: italic;
    }
    .book-author strong {
      font-style: normal;
      font-weight: 600;
      color: var(--gray-600);
    }

    .book-meta {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
      margin-top: 2px;
    }
    .book-meta-tag {
      font-family: var(--font-display);
      font-size: 0.65rem;
      font-weight: 700;
      padding: 3px 9px;
      border-radius: 100px;
      background: var(--blue-50);
      color: var(--blue-600);
      border: 1px solid var(--blue-100);
    }
    .book-card:nth-child(2) .book-meta-tag { background: #fef3c7; color: #b45309; border-color: #fde68a; }
    .book-card:nth-child(3) .book-meta-tag { background: #f0fdf4; color: #166534; border-color: #bbf7d0; }

    .book-card-footer {
      padding: 14px 20px;
      border-top: 1px solid var(--gray-100);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
    }

    .book-file-name {
      font-family: 'Courier New', monospace;
      font-size: 0.68rem;
      color: var(--gray-400);
      background: var(--gray-50);
      padding: 4px 8px;
      border-radius: 6px;
      border: 1px solid var(--gray-100);
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      max-width: 140px;
    }

    .book-dl-btn {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      font-family: var(--font-display);
      font-size: 0.75rem;
      font-weight: 700;
      padding: 7px 14px;
      border-radius: 100px;
      text-decoration: none;
      transition: all 0.2s ease;
      white-space: nowrap;
      flex-shrink: 0;
    }
    .book-dl-active {
      background: var(--blue-500);
      color: var(--white);
      box-shadow: 0 4px 12px rgba(37,99,235,0.25);
    }
    .book-dl-active:hover { background: var(--blue-600); transform: translateY(-1px); }
    .book-dl-soon {
      background: var(--gray-100);
      color: var(--gray-400);
      pointer-events: none;
    }

    /* â”€â”€ SEARCH RESULTS VIEW â”€â”€ */
    .search-results-section {
      display: none;
    }
    .search-results-section.visible { display: block; }
    .search-result-item {
      background: var(--white);
      border: 1px solid var(--gray-200);
      border-radius: var(--radius-lg);
      padding: 18px 22px;
      margin-bottom: 10px;
      transition: all 0.2s ease;
      display: flex;
      align-items: flex-start;
      gap: 16px;
    }
    .search-result-item:hover {
      border-color: var(--blue-200);
      box-shadow: var(--shadow-md);
    }
    .sri-left {
      flex: 1;
    }
    .sri-breadcrumb {
      font-family: var(--font-display);
      font-size: 0.68rem;
      font-weight: 600;
      color: var(--gray-400);
      margin-bottom: 4px;
      display: flex;
      align-items: center;
      gap: 4px;
    }
    .sri-breadcrumb .sri-code {
      background: var(--blue-50);
      color: var(--blue-600);
      border: 1px solid var(--blue-100);
      padding: 1px 7px;
      border-radius: 100px;
      font-size: 0.63rem;
      font-weight: 800;
    }
    .sri-subject { font-family: var(--font-display); font-size: 0.92rem; font-weight: 700; color: var(--gray-900); margin-bottom: 8px; }
    .sri-books { display: flex; gap: 6px; flex-wrap: wrap; }
    .sri-book-chip {
      font-family: var(--font-display);
      font-size: 0.72rem;
      font-weight: 600;
      background: var(--gray-50);
      border: 1px solid var(--gray-200);
      padding: 4px 10px;
      border-radius: 8px;
      color: var(--gray-600);
    }
    .sri-view-btn {
      font-family: var(--font-display);
      font-size: 0.75rem;
      font-weight: 700;
      color: var(--blue-500);
      background: var(--blue-50);
      border: 1px solid var(--blue-100);
      padding: 6px 14px;
      border-radius: 100px;
      cursor: pointer;
      transition: all 0.2s;
      white-space: nowrap;
      align-self: center;
    }
    .sri-view-btn:hover { background: var(--blue-500); color: var(--white); }

    /* Empty search state */
    .search-empty {
      text-align: center;
      padding: 48px 24px;
      color: var(--gray-400);
    }
    .search-empty .se-icon { font-size: 2.8rem; margin-bottom: 12px; }

    /* Main content area placeholder */
    .books-landing {
      display: block;
    }
    .books-landing.hidden { display: none; }

    /* â”€â”€ STATS ROW â”€â”€ */
    .books-stats-row {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 16px;
      margin-bottom: 28px;
    }
    .books-stat-card {
      background: var(--white);
      border: 1px solid var(--gray-200);
      border-radius: var(--radius-lg);
      padding: 18px 20px;
      text-align: center;
    }
    .books-stat-val {
      font-family: var(--font-display);
      font-size: 1.6rem;
      font-weight: 800;
      color: var(--blue-500);
      line-height: 1;
      margin-bottom: 4px;
    }
    .books-stat-lbl {
      font-size: 0.75rem;
      color: var(--gray-400);
      font-family: var(--font-display);
      font-weight: 500;
    }

    /* â”€â”€ RESPONSIVE â”€â”€ */
    @media (max-width: 900px) {
      .selector-body { grid-template-columns: 1fr; }
      .selector-col { border-right: none; border-bottom: 1px solid var(--gray-100); }
      .selector-col:last-child { border-bottom: none; }
      .books-grid { grid-template-columns: 1fr; }
      .books-stats-row { grid-template-columns: repeat(2, 1fr); }
      .sem-grid { grid-template-columns: repeat(4, 1fr); }
      .books-global-search { min-width: 180px; }
    }
    @media (max-width: 600px) {
      .selector-header { flex-direction: column; align-items: flex-start; }
      .books-global-search { width: 100%; }
      .books-stats-row { grid-template-columns: repeat(2, 1fr); }
      .sem-grid { grid-template-columns: repeat(4, 1fr); }
    }
    @media (max-width: 480px) {
      .sem-grid { grid-template-columns: repeat(4, 1fr); }
      .sem-btn { font-size: 0.7rem; padding: 8px 2px; }
    }
  </style>
</head>
<body>

<!-- â”€â”€ NAVBAR â”€â”€ -->
<nav class="navbar">
  <div class="nav-inner">
    <a href="index.html" class="nav-logo">
      <svg width="36" height="36" viewBox="0 0 36 36" fill="none"><rect width="36" height="36" rx="10" fill="#2563eb"/><path d="M10 26V10h8.5c2 0 3.5.5 4.5 1.5S24.5 14 24.5 15.5c0 1-.3 1.8-.8 2.4-.5.6-1.1 1-1.8 1.2.9.2 1.7.7 2.2 1.4.6.7.9 1.6.9 2.7 0 1.6-.6 2.9-1.7 3.8-1.1.9-2.7 1-4.8 1H10zm3.5-9.5h4.7c1 0 1.8-.2 2.3-.7.5-.4.8-1 .8-1.8 0-.8-.3-1.4-.8-1.8-.5-.4-1.3-.7-2.3-.7h-4.7v5zm0 6.7h5.2c1.1 0 1.9-.3 2.5-.8.6-.5.8-1.2.8-2.1 0-.9-.3-1.6-.8-2.1-.6-.5-1.4-.7-2.5-.7h-5.2v5.7z" fill="white"/></svg>
      <span class="nav-logo-text">BPUT<span>Notes</span></span>
    </a>
    <ul class="nav-links">
      <li><a href="index.html">Home</a></li>
      <li><a href="notes.html">Notes</a></li>
      <li><a href="pyq.html">PYQs</a></li>
      <li><a href="books.html" class="active">Books</a></li>
      <li><a href="scholarship.html">Scholarships</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="careers.html">Careers</a></li>
      <li><a href="internship.html" class="nav-cta">Internship & Training</a></li>
    </ul>
    <button class="hamburger" aria-label="Menu"><span></span><span></span><span></span></button>
  </div>
</nav>

<!-- â•â• SOCIAL SIDE RAIL (desktop) â•â• -->
<div class="social-rail">
  <a href="https://linkedin.com/company/YOUR_HANDLE" target="_blank" class="rail-item rail-li" title="LinkedIn">
    <svg class="rail-icon" viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
    <span class="rail-label">LinkedIn</span>
  </a>
  <a href="https://instagram.com/YOUR_HANDLE" target="_blank" class="rail-item rail-ig" title="Instagram">
    <svg class="rail-icon" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/></svg>
    <span class="rail-label">Instagram</span>
  </a>
  <a href="https://youtube.com/@YOUR_HANDLE" target="_blank" class="rail-item rail-yt" title="YouTube">
    <svg class="rail-icon" viewBox="0 0 24 24"><path d="M23.495 6.205a3.007 3.007 0 00-2.088-2.088c-1.87-.501-9.396-.501-9.396-.501s-7.507-.01-9.396.501A3.007 3.007 0 00.527 6.205a31.247 31.247 0 00-.522 5.805 31.247 31.247 0 00.522 5.783 3.007 3.007 0 002.088 2.088c1.868.502 9.396.502 9.396.502s7.506 0 9.396-.502a3.007 3.007 0 002.088-2.088 31.247 31.247 0 00.5-5.783 31.247 31.247 0 00-.5-5.805zM9.609 15.601V8.408l6.264 3.602z"/></svg>
    <span class="rail-label">YouTube</span>
  </a>
  <a href="https://wa.me/91XXXXXXXXXX" target="_blank" class="rail-item rail-wa" title="WhatsApp">
    <svg class="rail-icon" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
    <span class="rail-label">WhatsApp</span>
  </a>
</div>

<!-- â•â• SOCIAL FAB (mobile) â•â• -->
<div class="social-fab-wrap">
  <button class="social-fab-toggle" aria-label="Social links">
    <svg viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/></svg>
  </button>
  <a href="https://wa.me/91XXXXXXXXXX" target="_blank" class="social-fan-item sfi-wa" title="WhatsApp">
    <svg viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
  </a>
  <a href="https://youtube.com/@YOUR_HANDLE" target="_blank" class="social-fan-item sfi-yt" title="YouTube">
    <svg viewBox="0 0 24 24"><path d="M23.495 6.205a3.007 3.007 0 00-2.088-2.088c-1.87-.501-9.396-.501-9.396-.501s-7.507-.01-9.396.501A3.007 3.007 0 00.527 6.205a31.247 31.247 0 00-.522 5.805 31.247 31.247 0 00.522 5.783 3.007 3.007 0 002.088 2.088c1.868.502 9.396.502 9.396.502s7.506 0 9.396-.502a3.007 3.007 0 002.088-2.088 31.247 31.247 0 00.5-5.783 31.247 31.247 0 00-.5-5.805zM9.609 15.601V8.408l6.264 3.602z"/></svg>
  </a>
  <a href="https://instagram.com/YOUR_HANDLE" target="_blank" class="social-fan-item sfi-ig" title="Instagram">
    <svg viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/></svg>
  </a>
  <a href="https://linkedin.com/company/YOUR_HANDLE" target="_blank" class="social-fan-item sfi-li" title="LinkedIn">
    <svg viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
  </a>
</div>

<!-- â”€â”€ PAGE HERO â”€â”€ -->
<div class="page-hero">
  <div class="page-hero-inner">
    <div class="section-tag" style="background:rgba(255,255,255,0.15);color:#bfdbfe;border-color:rgba(255,255,255,0.2);">ğŸ“š University Recommended</div>
    <h1>Textbook Library</h1>
    <p>Official BPUT-recommended books for every branch, semester and subject â€” pick your department and find your reading list instantly.</p>
  </div>
</div>

<!-- â”€â”€ MAIN SECTION â”€â”€ -->
<section class="section" style="padding-top:40px;padding-bottom:64px;">
  <div class="container">

    <!-- Stats row -->
    <div class="books-stats-row" data-aos="fade-up">
      <div class="books-stat-card">
        <div class="books-stat-val">7</div>
        <div class="books-stat-lbl">Branches</div>
      </div>
      <div class="books-stat-card">
        <div class="books-stat-val">8</div>
        <div class="books-stat-lbl">Semesters</div>
      </div>
      <div class="books-stat-card">
        <div class="books-stat-val">336</div>
        <div class="books-stat-lbl">Subjects</div>
      </div>
      <div class="books-stat-card">
        <div class="books-stat-val">1,008</div>
        <div class="books-stat-lbl">Book Listings</div>
      </div>
    </div>

    <!-- â•â• SELECTOR CARD â•â• -->
    <div class="books-selector-wrap" data-aos="fade-up" data-aos-delay="80">

      <!-- Header with step indicators + search -->
      <div class="selector-header">
        <div class="selector-header-left">
          <div class="selector-step-badges">
            <div class="step-badge active" id="step1badge">
              <div class="step-badge-num">1</div> Branch
            </div>
            <div class="step-sep">â€º</div>
            <div class="step-badge" id="step2badge">
              <div class="step-badge-num">2</div> Semester
            </div>
            <div class="step-sep">â€º</div>
            <div class="step-badge" id="step3badge">
              <div class="step-badge-num">3</div> Subject
            </div>
          </div>
        </div>
        <div class="books-global-search">
          <span class="search-icon">ğŸ”</span>
          <input type="text" id="globalSearchInput" placeholder="Search by subject name or codeâ€¦" oninput="handleGlobalSearch(this.value)" autocomplete="off" />
          <button class="search-clear" id="searchClearBtn" onclick="clearSearch()">âœ•</button>
        </div>
      </div>

      <!-- 3-col selector body -->
      <div class="selector-body">

        <!-- COL 1: Branch -->
        <div class="selector-col">
          <div class="selector-col-label">ğŸ›ï¸ Department</div>
          <div class="branch-pills">
            <div class="branch-pill active" id="bp-cse" onclick="selectBranch('cse')">
              <span class="bp-emoji">ğŸ’»</span>
              <span class="bp-text">Computer Science</span>
              <span class="bp-short">CSE</span>
            </div>
            <div class="branch-pill" id="bp-civil" onclick="selectBranch('civil')">
              <span class="bp-emoji">ğŸ—ï¸</span>
              <span class="bp-text">Civil Engineering</span>
              <span class="bp-short">Civil</span>
            </div>
            <div class="branch-pill" id="bp-electrical" onclick="selectBranch('electrical')">
              <span class="bp-emoji">âš¡</span>
              <span class="bp-text">Electrical Engg.</span>
              <span class="bp-short">EEE</span>
            </div>
            <div class="branch-pill" id="bp-mechanical" onclick="selectBranch('mechanical')">
              <span class="bp-emoji">âš™ï¸</span>
              <span class="bp-text">Mechanical Engg.</span>
              <span class="bp-short">Mech</span>
            </div>
            <div class="branch-pill" id="bp-mining" onclick="selectBranch('mining')">
              <span class="bp-emoji">â›ï¸</span>
              <span class="bp-text">Mining Engineering</span>
              <span class="bp-short">Mining</span>
            </div>
            <div class="branch-pill" id="bp-metallurgy" onclick="selectBranch('metallurgy')">
              <span class="bp-emoji">ğŸ”©</span>
              <span class="bp-text">Metallurgy</span>
              <span class="bp-short">Metal</span>
            </div>
            <div class="branch-pill" id="bp-mineral" onclick="selectBranch('mineral')">
              <span class="bp-emoji">ğŸ’</span>
              <span class="bp-text">Mineral Engineering</span>
              <span class="bp-short">Mineral</span>
            </div>
          </div>
        </div>

        <!-- COL 2: Semester -->
        <div class="selector-col">
          <div class="selector-col-label">ğŸ“… Semester</div>
          <div id="semGrid" class="sem-grid">
            <!-- rendered by JS -->
          </div>
        </div>

        <!-- COL 3: Subject -->
        <div class="selector-col">
          <div class="selector-col-label">ğŸ“– Subject</div>
          <div id="subjectList" class="subject-list">
            <div class="selector-placeholder">
              <div class="ph-icon">ğŸ“…</div>
              <p>Select a semester first to see available subjects</p>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- â•â• SEARCH RESULTS â•â• -->
    <div class="search-results-section" id="searchResultsSection">
      <div class="books-result-header">
        <div class="books-result-title" id="searchResultTitle">Search Results</div>
        <div class="books-result-breadcrumb">Showing results for: <span id="searchResultQuery"></span></div>
      </div>
      <div id="searchResultsList"></div>
    </div>

    <!-- â•â• BOOKS RESULT â•â• -->
    <div class="books-result-section" id="booksResultSection">
      <div class="books-result-header">
        <div>
          <div class="books-result-title" id="booksResultTitle">Recommended Books</div>
          <div class="books-result-breadcrumb" id="booksResultBreadcrumb" style="margin-top:4px;"></div>
        </div>
        <div style="font-family:var(--font-display);font-size:0.78rem;color:var(--gray-400);">3 books recommended</div>
      </div>
      <div class="books-grid" id="booksGrid"></div>
    </div>

    <!-- â•â• LANDING (no selection yet) â•â• -->
    <div class="books-landing" id="booksLanding">
      <div style="text-align:center;padding:48px 24px;color:var(--gray-400);">
        <div style="font-size:3rem;margin-bottom:16px;">ğŸ“š</div>
        <h3 style="font-family:var(--font-display);font-size:1.1rem;font-weight:700;color:var(--gray-600);margin-bottom:8px;">Select your branch, semester & subject</h3>
        <p style="font-size:0.85rem;max-width:420px;margin:0 auto;">Use the selector above to browse books, or search directly by subject name or subject code in the search bar.</p>
      </div>
    </div>

    <!-- Request CTA -->
    <div style="text-align:center;margin-top:32px;">
      <p style="font-size:0.85rem;color:var(--gray-400);margin-bottom:12px;">Can't find a book or need a specific edition?</p>
      <a href="https://wa.me/91XXXXXXXXXX" target="_blank" class="btn btn-outline">ğŸ“± Request a Book on WhatsApp</a>
    </div>

  </div>
</section>

<!-- â”€â”€ FOOTER â”€â”€ -->
<footer class="footer">
  <div class="footer-inner">
    <div class="footer-top">
      <div class="footer-brand">
  <a href="index.html" class="nav-logo" style="display:inline-flex; align-items:center; gap:10px; margin-bottom:12px;">
    <svg width="32" height="32" viewBox="0 0 36 36" fill="none">
      <rect width="36" height="36" rx="10" fill="#2563eb"/>
      <path d="M10 26V10h8.5c2 0 3.5.5 4.5 1.5S24.5 14 24.5 15.5c0 1-.3 1.8-.8 2.4-.5.6-1.1 1-1.8 1.2.9.2 1.7.7 2.2 1.4.6.7.9 1.6.9 2.7 0 1.6-.6 2.9-1.7 3.8-1.1.9-2.7 1-4.8 1H10zm3.5-9.5h4.7c1 0 1.8-.2 2.3-.7.5-.4.8-1 .8-1.8 0-.8-.3-1.4-.8-1.8-.5-.4-1.3-.7-2.3-.7h-4.7v5zm0 6.7h5.2c1.1 0 1.9-.3 2.5-.8.6-.5.8-1.2.8-2.1 0-.9-.3-1.6-.8-2.1-.6-.5-1.4-.7-2.5-.7h-5.2v5.7z" fill="white"/>
    </svg>
    <span class="nav-logo-text" style="color:var(--white);">BPUT<span style="color:var(--accent);">Notes</span></span>
  </a>
  <p>"Master your BPUT exams with the best notes, PYQs, and scholarshipsâ€”all in one place."

"Empowering BPUT students from first semester to first job."

"Simplified learning for BPUTians. Notes, Previous Papers, and more."</p>

  <div class="footer-social-row">
    <a href="https://linkedin.com/company/YOUR_HANDLE" target="_blank" class="footer-soc-btn fsb-li" title="LinkedIn">
      <svg viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
    </a>
    <a href="https://instagram.com/YOUR_HANDLE" target="_blank" class="footer-soc-btn fsb-ig" title="Instagram">
      <svg viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/></svg>
    </a>
    <a href="https://youtube.com/@YOUR_HANDLE" target="_blank" class="footer-soc-btn fsb-yt" title="YouTube">
      <svg viewBox="0 0 24 24"><path d="M23.495 6.205a3.007 3.007 0 00-2.088-2.088c-1.87-.501-9.396-.501-9.396-.501s-7.507-.01-9.396.501A3.007 3.007 0 00.527 6.205a31.247 31.247 0 00-.522 5.805 31.247 31.247 0 00.522 5.783 3.007 3.007 0 002.088 2.088c1.868.502 9.396.502 9.396.502s7.506 0 9.396-.502a3.007 3.007 0 002.088-2.088 31.247 31.247 0 00.5-5.783 31.247 31.247 0 00-.5-5.805zM9.609 15.601V8.408l6.264 3.602z"/></svg>
    </a>
    <a href="https://wa.me/91XXXXXXXXXX" target="_blank" class="footer-soc-btn fsb-wa" title="WhatsApp">
      <svg viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
    </a>
  </div>
</div>
      <div class="footer-col"><h4>Resources</h4><a href="notes.html">Notes</a><a href="pyq.html">PYQs</a><a href="books.html">Books</a><a href="scholarship.html">Scholarships</a></div>
      <div class="footer-col"><h4>Company</h4><a href="about.html">About Us</a><a href="careers.html">Careers</a><a href="about.html#contact">Contact</a></div>
      <div class="footer-col"><h4>Programs</h4><a href="internship.html">Internship Program</a><a href="internship.html">Training Courses</a></div>
    </div>
    <div class="footer-bottom">
      <span>Â© 2025 BPUTNotes.in â€” Made with â¤ï¸ for BPUT students</span>
      <span>Not affiliated with BPUT University</span>
    </div>
  </div>
</footer>

<a href="https://wa.me/91XXXXXXXXXX" class="wa-float" target="_blank" title="WhatsApp Us">ğŸ’¬</a>
<button class="scroll-top">â†‘</button>

<script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
<script src="js/main.js"></script>
<script>
AOS.init({ duration: 600, once: true, offset: 40, easing: 'ease-out-cubic' });

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   BOOKS DATA
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   HOW TO UPDATE:

   Each subject has:
     code   â†’ subject code (e.g. "BPUT-CSE-301")
     name   â†’ full subject name
     books  â†’ array of 3 book objects:
       title   â†’ book title          â† UPDATE THIS
       author  â†’ author name         â† UPDATE THIS
       edition â†’ e.g. "3rd Edition"  â† UPDATE THIS
       tags    â†’ labels on card
       drive   â†’ Google Drive link   â† UPDATE THIS (replace DUMMY_DRIVE_ID)
       file    â†’ filename shown on card (auto-generated, no need to change)

   File naming convention: {branch}-sem{N}-book{1|2|3}-{subject-slug}
   Example: cse-sem1-book1-mathematics-i

   All links set to '#' â†’ shows "Coming Soon"
   Replace '#' with real Google Drive URL â†’ shows "View Book"
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

const BRANCH_NAMES = {
  cse:        'Computer Science (CSE)',
  civil:      'Civil Engineering',
  electrical: 'Electrical Engineering',
  mechanical: 'Mechanical Engineering',
  mining:     'Mining Engineering',
  metallurgy: 'Metallurgical Engineering',
  mineral:    'Mineral Engineering'
};

const BRANCH_SHORT = {
  cse:'CSE', civil:'Civil', electrical:'EEE',
  mechanical:'Mech', mining:'Mining',
  metallurgy:'Metal', mineral:'Mineral'
};

const BRANCH_EMOJI = {
  cse:'ğŸ’»', civil:'ğŸ—ï¸', electrical:'âš¡',
  mechanical:'âš™ï¸', mining:'â›ï¸',
  metallurgy:'ğŸ”©', mineral:'ğŸ’'
};

// â”€â”€ SUBJECT DEFINITIONS per branch Ã— semester â”€â”€
// code format: {BRANCH_SHORT}-{SEM}{SUB_NUM}  e.g. CSE-101
// You can replace these codes with official BPUT codes later.

const SUBJECT_DEFS = {
  cse: {
    1: [
      { code:'CSE-101', name:'Mathematics - I' },
      { code:'CSE-102', name:'Physics' },
      { code:'CSE-103', name:'Basic Electrical Engineering' },
      { code:'CSE-104', name:'Engineering Drawing' },
      { code:'CSE-105', name:'Programming Fundamentals (C)' },
      { code:'CSE-106', name:'English Communication' },
    ],
    2: [
      { code:'CSE-201', name:'Mathematics - II' },
      { code:'CSE-202', name:'Chemistry' },
      { code:'CSE-203', name:'Electronics Engineering' },
      { code:'CSE-204', name:'Data Structures' },
      { code:'CSE-205', name:'Digital Logic Design' },
      { code:'CSE-206', name:'Environmental Science' },
    ],
    3: [
      { code:'CSE-301', name:'Discrete Mathematics' },
      { code:'CSE-302', name:'Object Oriented Programming (Java)' },
      { code:'CSE-303', name:'Computer Organization & Architecture' },
      { code:'CSE-304', name:'Operating Systems' },
      { code:'CSE-305', name:'Database Management Systems' },
      { code:'CSE-306', name:'Probability & Statistics' },
    ],
    4: [
      { code:'CSE-401', name:'Design & Analysis of Algorithms' },
      { code:'CSE-402', name:'Theory of Computation' },
      { code:'CSE-403', name:'Computer Networks' },
      { code:'CSE-404', name:'Software Engineering' },
      { code:'CSE-405', name:'Microprocessor & Interfacing' },
      { code:'CSE-406', name:'Graph Theory' },
    ],
    5: [
      { code:'CSE-501', name:'Compiler Design' },
      { code:'CSE-502', name:'Artificial Intelligence' },
      { code:'CSE-503', name:'Web Technologies' },
      { code:'CSE-504', name:'Information Security' },
      { code:'CSE-505', name:'Mobile Computing' },
      { code:'CSE-506', name:'Numerical Methods' },
    ],
    6: [
      { code:'CSE-601', name:'Machine Learning' },
      { code:'CSE-602', name:'Cloud Computing' },
      { code:'CSE-603', name:'Big Data Analytics' },
      { code:'CSE-604', name:'Computer Graphics' },
      { code:'CSE-605', name:'Distributed Systems' },
      { code:'CSE-606', name:'Internet of Things' },
    ],
    7: [
      { code:'CSE-701', name:'Deep Learning' },
      { code:'CSE-702', name:'Natural Language Processing' },
      { code:'CSE-703', name:'Software Testing' },
      { code:'CSE-704', name:'Blockchain Technology' },
      { code:'CSE-705', name:'Cyber Security' },
      { code:'CSE-706', name:'Project Management' },
    ],
    8: [
      { code:'CSE-801', name:'Advanced Algorithms' },
      { code:'CSE-802', name:'Parallel Computing' },
      { code:'CSE-803', name:'Entrepreneurship & IPR' },
      { code:'CSE-804', name:'Elective - I' },
      { code:'CSE-805', name:'Elective - II' },
      { code:'CSE-806', name:'Major Project' },
    ],
  },
  civil: {
    1: [
      { code:'CIV-101', name:'Mathematics - I' },
      { code:'CIV-102', name:'Physics' },
      { code:'CIV-103', name:'Basic Electrical Engineering' },
      { code:'CIV-104', name:'Engineering Drawing' },
      { code:'CIV-105', name:'Engineering Mechanics' },
      { code:'CIV-106', name:'English Communication' },
    ],
    2: [
      { code:'CIV-201', name:'Mathematics - II' },
      { code:'CIV-202', name:'Chemistry' },
      { code:'CIV-203', name:'Surveying - I' },
      { code:'CIV-204', name:'Building Materials' },
      { code:'CIV-205', name:'Fluid Mechanics - I' },
      { code:'CIV-206', name:'Environmental Science' },
    ],
    3: [
      { code:'CIV-301', name:'Strength of Materials' },
      { code:'CIV-302', name:'Surveying - II' },
      { code:'CIV-303', name:'Fluid Mechanics - II' },
      { code:'CIV-304', name:'Concrete Technology' },
      { code:'CIV-305', name:'Geology' },
      { code:'CIV-306', name:'Probability & Statistics' },
    ],
    4: [
      { code:'CIV-401', name:'Structural Analysis - I' },
      { code:'CIV-402', name:'Geotechnical Engineering - I' },
      { code:'CIV-403', name:'Hydraulics & Hydraulic Machines' },
      { code:'CIV-404', name:'Transportation Engineering' },
      { code:'CIV-405', name:'Environmental Engineering - I' },
      { code:'CIV-406', name:'Numerical Methods' },
    ],
    5: [
      { code:'CIV-501', name:'Structural Analysis - II' },
      { code:'CIV-502', name:'Geotechnical Engineering - II' },
      { code:'CIV-503', name:'Design of Steel Structures' },
      { code:'CIV-504', name:'Environmental Engineering - II' },
      { code:'CIV-505', name:'Irrigation Engineering' },
      { code:'CIV-506', name:'Estimating & Costing' },
    ],
    6: [
      { code:'CIV-601', name:'Design of RCC Structures' },
      { code:'CIV-602', name:'Foundation Engineering' },
      { code:'CIV-603', name:'Highway Engineering' },
      { code:'CIV-604', name:'Water Resource Engineering' },
      { code:'CIV-605', name:'Town Planning' },
      { code:'CIV-606', name:'Construction Management' },
    ],
    7: [
      { code:'CIV-701', name:'Advanced Structural Analysis' },
      { code:'CIV-702', name:'Bridge Engineering' },
      { code:'CIV-703', name:'Tunnel Engineering' },
      { code:'CIV-704', name:'Remote Sensing & GIS' },
      { code:'CIV-705', name:'Earthquake Engineering' },
      { code:'CIV-706', name:'Project Management' },
    ],
    8: [
      { code:'CIV-801', name:'Advanced Foundation Design' },
      { code:'CIV-802', name:'Pavement Design' },
      { code:'CIV-803', name:'Entrepreneurship & IPR' },
      { code:'CIV-804', name:'Elective - I' },
      { code:'CIV-805', name:'Elective - II' },
      { code:'CIV-806', name:'Major Project' },
    ],
  },
  electrical: {
    1: [
      { code:'EEE-101', name:'Mathematics - I' },
      { code:'EEE-102', name:'Physics' },
      { code:'EEE-103', name:'Basic Electrical Engineering' },
      { code:'EEE-104', name:'Engineering Drawing' },
      { code:'EEE-105', name:'Programming Fundamentals (C)' },
      { code:'EEE-106', name:'English Communication' },
    ],
    2: [
      { code:'EEE-201', name:'Mathematics - II' },
      { code:'EEE-202', name:'Chemistry' },
      { code:'EEE-203', name:'Circuit Theory' },
      { code:'EEE-204', name:'Electrical Machines - I' },
      { code:'EEE-205', name:'Electronic Devices & Circuits' },
      { code:'EEE-206', name:'Environmental Science' },
    ],
    3: [
      { code:'EEE-301', name:'Electrical Machines - II' },
      { code:'EEE-302', name:'Analog Electronics' },
      { code:'EEE-303', name:'Signals & Systems' },
      { code:'EEE-304', name:'Electromagnetic Theory' },
      { code:'EEE-305', name:'Measurement & Instrumentation' },
      { code:'EEE-306', name:'Probability & Statistics' },
    ],
    4: [
      { code:'EEE-401', name:'Power Systems - I' },
      { code:'EEE-402', name:'Control Systems' },
      { code:'EEE-403', name:'Digital Electronics' },
      { code:'EEE-404', name:'Microprocessor & Applications' },
      { code:'EEE-405', name:'Electrical Machine Design' },
      { code:'EEE-406', name:'Numerical Methods' },
    ],
    5: [
      { code:'EEE-501', name:'Power Systems - II' },
      { code:'EEE-502', name:'Power Electronics' },
      { code:'EEE-503', name:'Electric Drives' },
      { code:'EEE-504', name:'High Voltage Engineering' },
      { code:'EEE-505', name:'Switchgear & Protection' },
      { code:'EEE-506', name:'DSP' },
    ],
    6: [
      { code:'EEE-601', name:'Power System Operation & Control' },
      { code:'EEE-602', name:'FACTS & HVDC' },
      { code:'EEE-603', name:'Renewable Energy Systems' },
      { code:'EEE-604', name:'Industrial Automation' },
      { code:'EEE-605', name:'Smart Grid Technology' },
      { code:'EEE-606', name:'Electric Vehicle Technology' },
    ],
    7: [
      { code:'EEE-701', name:'Advanced Power Electronics' },
      { code:'EEE-702', name:'Energy Management' },
      { code:'EEE-703', name:'AI in Power Systems' },
      { code:'EEE-704', name:'Embedded Systems' },
      { code:'EEE-705', name:'IoT for Electrical Systems' },
      { code:'EEE-706', name:'Project Management' },
    ],
    8: [
      { code:'EEE-801', name:'Advanced Control Systems' },
      { code:'EEE-802', name:'Power Quality' },
      { code:'EEE-803', name:'Entrepreneurship & IPR' },
      { code:'EEE-804', name:'Elective - I' },
      { code:'EEE-805', name:'Elective - II' },
      { code:'EEE-806', name:'Major Project' },
    ],
  },
  mechanical: {
    1: [
      { code:'MEC-101', name:'Mathematics - I' },
      { code:'MEC-102', name:'Physics' },
      { code:'MEC-103', name:'Basic Electrical Engineering' },
      { code:'MEC-104', name:'Engineering Drawing' },
      { code:'MEC-105', name:'Engineering Mechanics' },
      { code:'MEC-106', name:'English Communication' },
    ],
    2: [
      { code:'MEC-201', name:'Mathematics - II' },
      { code:'MEC-202', name:'Chemistry' },
      { code:'MEC-203', name:'Thermodynamics' },
      { code:'MEC-204', name:'Manufacturing Processes' },
      { code:'MEC-205', name:'Material Science' },
      { code:'MEC-206', name:'Environmental Science' },
    ],
    3: [
      { code:'MEC-301', name:'Strength of Materials' },
      { code:'MEC-302', name:'Fluid Mechanics' },
      { code:'MEC-303', name:'Theory of Machines - I' },
      { code:'MEC-304', name:'Applied Thermodynamics' },
      { code:'MEC-305', name:'Metrology & Quality Control' },
      { code:'MEC-306', name:'Probability & Statistics' },
    ],
    4: [
      { code:'MEC-401', name:'Heat Transfer' },
      { code:'MEC-402', name:'Theory of Machines - II' },
      { code:'MEC-403', name:'Machine Design - I' },
      { code:'MEC-404', name:'Hydraulic Machines' },
      { code:'MEC-405', name:'Metal Cutting & Tool Design' },
      { code:'MEC-406', name:'Numerical Methods' },
    ],
    5: [
      { code:'MEC-501', name:'Machine Design - II' },
      { code:'MEC-502', name:'Refrigeration & Air Conditioning' },
      { code:'MEC-503', name:'Internal Combustion Engines' },
      { code:'MEC-504', name:'Industrial Engineering' },
      { code:'MEC-505', name:'Finite Element Analysis' },
      { code:'MEC-506', name:'Automation & Robotics' },
    ],
    6: [
      { code:'MEC-601', name:'CAD/CAM' },
      { code:'MEC-602', name:'Power Plant Engineering' },
      { code:'MEC-603', name:'Mechatronics' },
      { code:'MEC-604', name:'Turbomachinery' },
      { code:'MEC-605', name:'Operations Research' },
      { code:'MEC-606', name:'Non-Conventional Manufacturing' },
    ],
    7: [
      { code:'MEC-701', name:'Advanced Manufacturing' },
      { code:'MEC-702', name:'Composite Materials' },
      { code:'MEC-703', name:'Computational Fluid Dynamics' },
      { code:'MEC-704', name:'Tribology' },
      { code:'MEC-705', name:'Vehicle Dynamics' },
      { code:'MEC-706', name:'Project Management' },
    ],
    8: [
      { code:'MEC-801', name:'Advanced Machine Design' },
      { code:'MEC-802', name:'Renewable Energy Systems' },
      { code:'MEC-803', name:'Entrepreneurship & IPR' },
      { code:'MEC-804', name:'Elective - I' },
      { code:'MEC-805', name:'Elective - II' },
      { code:'MEC-806', name:'Major Project' },
    ],
  },
  mining: {
    1: [
      { code:'MIN-101', name:'Mathematics - I' },
      { code:'MIN-102', name:'Physics' },
      { code:'MIN-103', name:'Basic Electrical Engineering' },
      { code:'MIN-104', name:'Engineering Drawing' },
      { code:'MIN-105', name:'Engineering Geology' },
      { code:'MIN-106', name:'English Communication' },
    ],
    2: [
      { code:'MIN-201', name:'Mathematics - II' },
      { code:'MIN-202', name:'Chemistry' },
      { code:'MIN-203', name:'Mining Surveying - I' },
      { code:'MIN-204', name:'Rock Mechanics' },
      { code:'MIN-205', name:'Mine Ventilation - I' },
      { code:'MIN-206', name:'Environmental Science' },
    ],
    3: [
      { code:'MIN-301', name:'Underground Coal Mining' },
      { code:'MIN-302', name:'Mining Machinery' },
      { code:'MIN-303', name:'Mine Surveying - II' },
      { code:'MIN-304', name:'Explosives & Blasting' },
      { code:'MIN-305', name:'Geomechanics' },
      { code:'MIN-306', name:'Probability & Statistics' },
    ],
    4: [
      { code:'MIN-401', name:'Mine Ventilation - II' },
      { code:'MIN-402', name:'Surface Mining' },
      { code:'MIN-403', name:'Mineral Dressing' },
      { code:'MIN-404', name:'Mine Management & Economics' },
      { code:'MIN-405', name:'Strata Control' },
      { code:'MIN-406', name:'Numerical Methods' },
    ],
    5: [
      { code:'MIN-501', name:'Mine Planning & Design' },
      { code:'MIN-502', name:'Coalbed Methane' },
      { code:'MIN-503', name:'Mine Safety Engineering' },
      { code:'MIN-504', name:'Environmental Management in Mining' },
      { code:'MIN-505', name:'Geostatistics' },
      { code:'MIN-506', name:'Mining Laws & Regulations' },
    ],
    6: [
      { code:'MIN-601', name:'Advanced Rock Mechanics' },
      { code:'MIN-602', name:'Remote Sensing & GIS' },
      { code:'MIN-603', name:'Mine Automation' },
      { code:'MIN-604', name:'Reclamation of Mined Land' },
      { code:'MIN-605', name:'Deep Mining' },
      { code:'MIN-606', name:'Mineral Economics' },
    ],
    7: [
      { code:'MIN-701', name:'Petroleum Engineering' },
      { code:'MIN-702', name:'Tunnel Engineering' },
      { code:'MIN-703', name:'Mine Drainage' },
      { code:'MIN-704', name:'Subsurface Mapping' },
      { code:'MIN-705', name:'Coal Processing' },
      { code:'MIN-706', name:'Project Management' },
    ],
    8: [
      { code:'MIN-801', name:'Advanced Mine Design' },
      { code:'MIN-802', name:'Sustainable Mining' },
      { code:'MIN-803', name:'Entrepreneurship & IPR' },
      { code:'MIN-804', name:'Elective - I' },
      { code:'MIN-805', name:'Elective - II' },
      { code:'MIN-806', name:'Major Project' },
    ],
  },
  metallurgy: {
    1: [
      { code:'MET-101', name:'Mathematics - I' },
      { code:'MET-102', name:'Physics' },
      { code:'MET-103', name:'Basic Electrical Engineering' },
      { code:'MET-104', name:'Engineering Drawing' },
      { code:'MET-105', name:'Engineering Chemistry' },
      { code:'MET-106', name:'English Communication' },
    ],
    2: [
      { code:'MET-201', name:'Mathematics - II' },
      { code:'MET-202', name:'Physical Chemistry' },
      { code:'MET-203', name:'Iron Making' },
      { code:'MET-204', name:'Material Science' },
      { code:'MET-205', name:'Engineering Thermodynamics' },
      { code:'MET-206', name:'Environmental Science' },
    ],
    3: [
      { code:'MET-301', name:'Steel Making' },
      { code:'MET-302', name:'Non-Ferrous Extraction' },
      { code:'MET-303', name:'Physical Metallurgy' },
      { code:'MET-304', name:'Mechanical Metallurgy' },
      { code:'MET-305', name:'Heat Treatment' },
      { code:'MET-306', name:'Probability & Statistics' },
    ],
    4: [
      { code:'MET-401', name:'Metallurgical Thermodynamics' },
      { code:'MET-402', name:'Transport Phenomena' },
      { code:'MET-403', name:'Solidification & Casting' },
      { code:'MET-404', name:'Powder Metallurgy' },
      { code:'MET-405', name:'Corrosion Engineering' },
      { code:'MET-406', name:'Numerical Methods' },
    ],
    5: [
      { code:'MET-501', name:'Metal Forming' },
      { code:'MET-502', name:'Welding Technology' },
      { code:'MET-503', name:'Ceramics & Refractories' },
      { code:'MET-504', name:'Surface Engineering' },
      { code:'MET-505', name:'Failure Analysis' },
      { code:'MET-506', name:'Composite Materials' },
    ],
    6: [
      { code:'MET-601', name:'Advanced Physical Metallurgy' },
      { code:'MET-602', name:'Nano Materials' },
      { code:'MET-603', name:'Biomaterials' },
      { code:'MET-604', name:'Computational Materials Science' },
      { code:'MET-605', name:'Non-Destructive Testing' },
      { code:'MET-606', name:'Semiconductor Materials' },
    ],
    7: [
      { code:'MET-701', name:'High Temperature Materials' },
      { code:'MET-702', name:'Smart Materials' },
      { code:'MET-703', name:'Metallurgical Plant Design' },
      { code:'MET-704', name:'Additive Manufacturing' },
      { code:'MET-705', name:'Energy Materials' },
      { code:'MET-706', name:'Project Management' },
    ],
    8: [
      { code:'MET-801', name:'Advanced Alloy Design' },
      { code:'MET-802', name:'Sustainable Metallurgy' },
      { code:'MET-803', name:'Entrepreneurship & IPR' },
      { code:'MET-804', name:'Elective - I' },
      { code:'MET-805', name:'Elective - II' },
      { code:'MET-806', name:'Major Project' },
    ],
  },
  mineral: {
    1: [
      { code:'MNR-101', name:'Mathematics - I' },
      { code:'MNR-102', name:'Physics' },
      { code:'MNR-103', name:'Basic Electrical Engineering' },
      { code:'MNR-104', name:'Engineering Drawing' },
      { code:'MNR-105', name:'Mineralogy' },
      { code:'MNR-106', name:'English Communication' },
    ],
    2: [
      { code:'MNR-201', name:'Mathematics - II' },
      { code:'MNR-202', name:'Chemistry' },
      { code:'MNR-203', name:'Mineral Processing - I' },
      { code:'MNR-204', name:'Comminution & Classification' },
      { code:'MNR-205', name:'Solid-Liquid Separation' },
      { code:'MNR-206', name:'Environmental Science' },
    ],
    3: [
      { code:'MNR-301', name:'Mineral Processing - II' },
      { code:'MNR-302', name:'Flotation Technology' },
      { code:'MNR-303', name:'Magnetic & Electrostatic Separation' },
      { code:'MNR-304', name:'Geochemistry' },
      { code:'MNR-305', name:'Mineralogy - II' },
      { code:'MNR-306', name:'Probability & Statistics' },
    ],
    4: [
      { code:'MNR-401', name:'Hydrometallurgy' },
      { code:'MNR-402', name:'Pyrometallurgy' },
      { code:'MNR-403', name:'Process Control' },
      { code:'MNR-404', name:'Plant Design & Equipment' },
      { code:'MNR-405', name:'Analytical Techniques' },
      { code:'MNR-406', name:'Numerical Methods' },
    ],
    5: [
      { code:'MNR-501', name:'Coal Preparation' },
      { code:'MNR-502', name:'Precious Metal Processing' },
      { code:'MNR-503', name:'Industrial Minerals Processing' },
      { code:'MNR-504', name:'Environmental Management' },
      { code:'MNR-505', name:'Mineral Economics' },
      { code:'MNR-506', name:'Waste Treatment' },
    ],
    6: [
      { code:'MNR-601', name:'Bioleaching' },
      { code:'MNR-602', name:'Advanced Flotation' },
      { code:'MNR-603', name:'Slurry Handling' },
      { code:'MNR-604', name:'Heap Leaching' },
      { code:'MNR-605', name:'Mineral Policy & Law' },
      { code:'MNR-606', name:'Geostatistics' },
    ],
    7: [
      { code:'MNR-701', name:'Tailings Management' },
      { code:'MNR-702', name:'Critical Minerals Processing' },
      { code:'MNR-703', name:'Simulation in Mineral Processing' },
      { code:'MNR-704', name:'Sensor-Based Sorting' },
      { code:'MNR-705', name:'E-Waste Recycling' },
      { code:'MNR-706', name:'Project Management' },
    ],
    8: [
      { code:'MNR-801', name:'Advanced Process Design' },
      { code:'MNR-802', name:'Sustainable Mineral Processing' },
      { code:'MNR-803', name:'Entrepreneurship & IPR' },
      { code:'MNR-804', name:'Elective - I' },
      { code:'MNR-805', name:'Elective - II' },
      { code:'MNR-806', name:'Major Project' },
    ],
  },
};

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   BOOK GENERATION
   For each subject we generate 3 books with:
   - A placeholder title (you update this)
   - A placeholder author (you update this)
   - Auto-generated filename in the format:
     {branch}-sem{N}-book{1|2|3}-{subject-slug}
   - Dummy Drive link (replace with real Google Drive URL)

   DUMMY DRIVE ID: 1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgVE2upms
   (This is a sample public Google Sheet â€” replace with your files)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

const DUMMY_DRIVE_ID = '1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgVE2upms';
const DUMMY_DRIVE_LINK = `https://drive.google.com/file/d/${DUMMY_DRIVE_ID}/view?usp=sharing`;

function slugify(str) {
  return str.toLowerCase()
    .replace(/[^a-z0-9\s-]/g, '')
    .replace(/\s+/g, '-')
    .replace(/-+/g, '-')
    .slice(0, 40);
}

function makeBooks(branch, sem, subjectName, subjectIndex) {
  const slug = slugify(subjectName);
  const si = subjectIndex + 1;
  return [
    {
      title:   `${subjectName} â€” Fundamentals & Theory`,
      author:  'To be updated',
      edition: '2nd Edition',
      tags:    ['Theory', 'Core Text'],
      drive:   '#',  // â† Replace with real Google Drive link
      file:    `${branch}-sem${sem}-book1-${slug}`,
    },
    {
      title:   `Advanced ${subjectName}`,
      author:  'To be updated',
      edition: '3rd Edition',
      tags:    ['Advanced', 'Reference'],
      drive:   '#',  // â† Replace with real Google Drive link
      file:    `${branch}-sem${sem}-book2-${slug}`,
    },
    {
      title:   `${subjectName} â€” Solved Problems & Numericals`,
      author:  'To be updated',
      edition: 'Latest Edition',
      tags:    ['Problems', 'Practice'],
      drive:   '#',  // â† Replace with real Google Drive link
      file:    `${branch}-sem${sem}-book3-${slug}`,
    },
  ];
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   STATE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
let activeBranch  = 'cse';
let activeSem     = null;
let activeSubject = null;

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RENDER SEMESTER GRID
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function renderSemGrid() {
  const wrap = document.getElementById('semGrid');
  let html = '';
  for (let s = 1; s <= 8; s++) {
    html += `<button class="sem-btn${activeSem === s ? ' active' : ''}" onclick="selectSem(${s},this)">Sem ${s}</button>`;
  }
  wrap.innerHTML = html;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RENDER SUBJECT LIST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function renderSubjectList() {
  const wrap = document.getElementById('subjectList');
  if (!activeSem) {
    wrap.innerHTML = `<div class="selector-placeholder"><div class="ph-icon">ğŸ“…</div><p>Select a semester first</p></div>`;
    return;
  }
  const subjects = SUBJECT_DEFS[activeBranch][activeSem] || [];
  if (!subjects.length) {
    wrap.innerHTML = `<div class="selector-placeholder"><div class="ph-icon">ğŸ“­</div><p>No subjects found</p></div>`;
    return;
  }
  wrap.innerHTML = subjects.map((s, i) => `
    <div class="subject-item${activeSubject && activeSubject.code === s.code ? ' active' : ''}"
         onclick="selectSubject('${s.code}', ${i})">
      <span class="sub-code">${s.code}</span>
      <span class="sub-name">${s.name}</span>
    </div>
  `).join('');
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SELECT BRANCH
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function selectBranch(branch) {
  document.querySelectorAll('.branch-pill').forEach(p => p.classList.remove('active'));
  document.getElementById('bp-' + branch).classList.add('active');
  activeBranch  = branch;
  activeSem     = null;
  activeSubject = null;
  updateStepBadges(1);
  renderSemGrid();
  renderSubjectList();
  hideBooksResult();
  hideSearchResults();
  showLanding();
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SELECT SEMESTER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function selectSem(sem, el) {
  activeSem     = sem;
  activeSubject = null;
  document.querySelectorAll('.sem-btn').forEach(b => b.classList.remove('active'));
  el.classList.add('active');
  updateStepBadges(2);
  renderSubjectList();
  hideBooksResult();
  showLanding();
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SELECT SUBJECT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function selectSubject(code, idx) {
  const subjects = SUBJECT_DEFS[activeBranch][activeSem];
  activeSubject = subjects.find(s => s.code === code);
  if (!activeSubject) return;

  // Clear search
  document.getElementById('globalSearchInput').value = '';
  document.getElementById('searchClearBtn').classList.remove('visible');
  hideSearchResults();

  renderSubjectList(); // re-render to update active state
  updateStepBadges(3);
  renderBooks(activeBranch, activeSem, activeSubject, idx);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RENDER BOOKS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function renderBooks(branch, sem, subject, subjectIndex) {
  const books = makeBooks(branch, sem, subject.name, subjectIndex);

  document.getElementById('booksResultTitle').textContent = `Books for: ${subject.name}`;
  document.getElementById('booksResultBreadcrumb').innerHTML =
    `${BRANCH_EMOJI[branch]} ${BRANCH_NAMES[branch]} &rsaquo; Semester ${sem} &rsaquo; <span>${subject.code} â€” ${subject.name}</span>`;

  const spineColors = [
    'linear-gradient(90deg,#2563eb,#60a5fa)',
    'linear-gradient(90deg,#f59e0b,#fcd34d)',
    'linear-gradient(90deg,#22c55e,#4ade80)'
  ];
  const tagStyles = [
    'background:#eff6ff;color:#2563eb;border-color:#dbeafe;',
    'background:#fef3c7;color:#b45309;border-color:#fde68a;',
    'background:#f0fdf4;color:#166534;border-color:#bbf7d0;'
  ];
  const dotColors = ['#3b82f6','#f59e0b','#22c55e'];

  document.getElementById('booksGrid').innerHTML = books.map((b, i) => {
    const hasLink = b.drive && b.drive !== '#';
    const btnHTML = hasLink
      ? `<a href="${b.drive}" target="_blank" rel="noopener" class="book-dl-btn book-dl-active">ğŸ“– View Book</a>`
      : `<a class="book-dl-btn book-dl-soon">â³ Coming Soon</a>`;
    const tagsHTML = b.tags.map(t =>
      `<span class="book-meta-tag" style="${tagStyles[i]}">${t}</span>`
    ).join('');

    return `
      <div class="book-card" style="animation:fadeUp 0.35s ease ${i * 0.08}s both;">
        <div class="book-card-spine" style="background:${spineColors[i]};"></div>
        <div class="book-card-body">
          <div class="book-number">
            <div class="book-number-dot" style="background:${dotColors[i]};"></div>
            Book ${i + 1} of 3
          </div>
          <div class="book-title">${b.title}</div>
          <div class="book-author">By <strong>${b.author}</strong> Â· ${b.edition}</div>
          <div class="book-meta">${tagsHTML}</div>
        </div>
        <div class="book-card-footer">
          <span class="book-file-name" title="${b.file}">${b.file}</span>
          ${btnHTML}
        </div>
      </div>`;
  }).join('');

  showBooksResult();
  hideLanding();

  // Smooth scroll to results
  setTimeout(() => {
    document.getElementById('booksResultSection').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
  }, 100);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   GLOBAL SEARCH
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function handleGlobalSearch(val) {
  const clearBtn = document.getElementById('searchClearBtn');
  clearBtn.classList.toggle('visible', val.length > 0);

  if (!val.trim()) {
    hideSearchResults();
    if (activeSubject) {
      showBooksResult();
    } else {
      showLanding();
    }
    return;
  }

  hideBooksResult();
  hideLanding();
  performSearch(val.trim());
}

function performSearch(term) {
  const t = term.toLowerCase();
  const results = [];

  Object.keys(SUBJECT_DEFS).forEach(branch => {
    for (let sem = 1; sem <= 8; sem++) {
      (SUBJECT_DEFS[branch][sem] || []).forEach((sub, idx) => {
        if (sub.name.toLowerCase().includes(t) || sub.code.toLowerCase().includes(t)) {
          results.push({ branch, sem, sub, idx });
        }
      });
    }
  });

  const section = document.getElementById('searchResultsSection');
  const list    = document.getElementById('searchResultsList');
  const title   = document.getElementById('searchResultTitle');
  const query   = document.getElementById('searchResultQuery');

  title.textContent = `${results.length} result${results.length !== 1 ? 's' : ''} found`;
  query.textContent = `"${term}"`;

  if (!results.length) {
    list.innerHTML = `
      <div class="search-empty">
        <div class="se-icon">ğŸ”</div>
        <p>No subjects match "<strong>${term}</strong>". Try a different subject name or code.</p>
      </div>`;
  } else {
    list.innerHTML = results.map(r => {
      const books = makeBooks(r.branch, r.sem, r.sub.name, r.idx);
      const bookChips = books.map(b =>
        `<span class="sri-book-chip">ğŸ“š ${b.title.split('â€”')[0].trim()}</span>`
      ).join('');
      return `
        <div class="search-result-item">
          <div class="sri-left">
            <div class="sri-breadcrumb">
              ${BRANCH_EMOJI[r.branch]} ${BRANCH_SHORT[r.branch]} â€º Sem ${r.sem} â€º
              <span class="sri-code">${r.sub.code}</span>
            </div>
            <div class="sri-subject">${r.sub.name}</div>
            <div class="sri-books">${bookChips}</div>
          </div>
          <button class="sri-view-btn" onclick="jumpToSubject('${r.branch}',${r.sem},'${r.sub.code}',${r.idx})">
            View Books â†’
          </button>
        </div>`;
    }).join('');
  }

  section.classList.add('visible');
}

function jumpToSubject(branch, sem, code, idx) {
  // Clear search
  document.getElementById('globalSearchInput').value = '';
  document.getElementById('searchClearBtn').classList.remove('visible');
  hideSearchResults();

  // Set branch
  document.querySelectorAll('.branch-pill').forEach(p => p.classList.remove('active'));
  document.getElementById('bp-' + branch).classList.add('active');
  activeBranch = branch;

  // Set sem
  activeSem = sem;
  renderSemGrid();

  // Set subject
  const subjects = SUBJECT_DEFS[branch][sem];
  activeSubject = subjects.find(s => s.code === code);
  renderSubjectList();
  updateStepBadges(3);
  renderBooks(branch, sem, activeSubject, idx);

  // Scroll to top of selector
  document.querySelector('.books-selector-wrap').scrollIntoView({ behavior: 'smooth', block: 'start' });
}

function clearSearch() {
  document.getElementById('globalSearchInput').value = '';
  document.getElementById('searchClearBtn').classList.remove('visible');
  hideSearchResults();
  if (activeSubject) { showBooksResult(); hideLanding(); }
  else { showLanding(); hideBooksResult(); }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   STEP BADGES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function updateStepBadges(step) {
  const b1 = document.getElementById('step1badge');
  const b2 = document.getElementById('step2badge');
  const b3 = document.getElementById('step3badge');
  b1.className = 'step-badge ' + (step >= 1 ? (step > 1 ? 'done' : 'active') : '');
  b2.className = 'step-badge ' + (step >= 2 ? (step > 2 ? 'done' : 'active') : '');
  b3.className = 'step-badge ' + (step >= 3 ? 'active' : '');
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SHOW / HIDE HELPERS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function showBooksResult()  { document.getElementById('booksResultSection').classList.add('visible'); }
function hideBooksResult()  { document.getElementById('booksResultSection').classList.remove('visible'); }
function showLanding()      { document.getElementById('booksLanding').classList.remove('hidden'); }
function hideLanding()      { document.getElementById('booksLanding').classList.add('hidden'); }
function showSearchResults(){ document.getElementById('searchResultsSection').classList.add('visible'); }
function hideSearchResults(){ document.getElementById('searchResultsSection').classList.remove('visible'); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   INIT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
renderSemGrid();
updateStepBadges(1);
</script>
</body>
</html>
